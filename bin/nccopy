#!/bin/bash

if [ "$1" = "" ]; then
  echo "Usage: nccopy <filename>"
  exit 1
fi

if [ ! -f "$1" ]; then
  echo "$1 is an invalid file."
  exit 1
fi

echo -e "Now use 'ncpaste <filename>' or 'nc <filename> <origin_hostname_or_ip>' for remote copy\n\n"
cat "$1" | pv -p -s $(stat -f %z $1) | nc -l 13338
